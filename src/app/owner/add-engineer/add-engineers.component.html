<!-- <div class="jumbotron"  style="background-color: gray"> -->
  <!-- Default form register -->

  <section [ngClass]="{'margins': button === 'Submit'}">
    <mdb-card>

    
      <div class="header pt-3 " style="background-color: lightblue">
        <div class="row d-flex justify-content-start">
          <h3 class="deep-grey-text mt-3 mb-4 pb-1 mx-5">Engineer's Details</h3>
        </div>

      </div>

    <mdb-card-body class="mx-4 mt-4 continer">
        <form 
            class="text-center " 
            #forms="ngForm" (ngSubmit)="onSubmit(forms)">

  <!-- <p class="h4 mb-4">Signup Form</p> -->

                <div class="form-row from-group mb-4">
                            <mat-form-field class="col">
      <!-- First name -->
                                <input matInput type="text" 
                                id="defaultRegisterFormfirstName"
                                name="firstName" 
                                [ngModel]="engineer?.firstName" 
                                (ngModelChange)="engineer.firstName = $event" 
                                #firstName="ngModel" 		  
                                placeholder="First Name"
                                required>

                                <mat-error 
                                *ngIf="firstName.invalid 
                                && (firstName.dirty || firstName.touched)"
                                class=" font-weight-bold" 
                                style=" font-size: 12px; color: maroon">
                                   First Name cannot be empty
                                </mat-error>
                              </mat-form-field>

                        <mat-form-field class="col" >
      <!-- Last name -->
                            <input type="text" 
                                    id="defaultRegisterFormLastName" 
                                    name="lastName"
                                    [ngModel]="engineer?.lastName" 
                                    (ngModelChange)="engineer.lastName = $event" 
                                    #dn="ngModel"
                                    required
                                    matInput
                                    placeholder="last Name">
                              <mat-error *ngIf="dn.invalid && (dn.touched || dn.dirty)"
                                          class="help-block font-weight-bold" style=" font-size: 12px; color: maroon">
                                            last name cannot be empty
                              </mat-error>
                          </mat-form-field>
                  </div>

                  <mat-form-field class="col-4" >
                    <!-- Last name -->
                                          <input type="number" 
                                                  id="defaultRegisterFormExperience"
                                                  name="experience"
                                                  [ngModel]="engineer?.experience" 
                                                  (ngModelChange)="engineer.experience = $event" 
                                                  #dn="ngModel"
                                                  required
                                                  matInput
                                                  placeholder="experience">
                                            <mat-error *ngIf="dn.invalid && (dn.touched || dn.dirty)"
                                                        class="help-block font-weight-bold" style=" font-size: 12px; color: maroon">
                                                          Experience cannot be empty
                                            </mat-error>
                                            <mat-hint> 
                                              Experience in years
                                            </mat-hint>
                                        </mat-form-field>
                  
                        <br>
                        <br>
  <!-- Company E-mail -->
      <!-- <div class="form-row from-group col" ngModelGroup="technology" *ngIf="engineer?._id"> -->
          <table class="table table-borderless" *ngIf="engineer?._id" >
              
              <tbody>
                <tr *ngFor="let tech of techToPrint" class="table-secondary">
                  <td> {{tech.name}} </td>
                  <td> {{tech.proficiency}} </td>
                  <td scope="row"> <button mat-icon-button style="color: #023c66" (click)="editJobs(job._id)" > <mat-icon>edit</mat-icon> </button>  
                    <span> 
                        <button mat-icon-button style="color: darkred" (click)="deleteJob(job._id)" > <mat-icon> delete </mat-icon> </button> 
                    </span>  </td>
                </tr>
              </tbody>
              <a type="button"  (click)="addSkills()" style="color:darkblue; font-size: 14px; flex-flow: row">  +add skills</a> 
            </table>
          
          
       
      <!-- </div> -->

<!-- JOBS DONE BEFORE -->
                    <div  *ngIf="engineer?._id" >
                        <div class="col">
                          <label>Jobs:    </label>
                            <div *ngIf="jobs">
                              <div *ngFor="let job of jobs" class="table-secondary" style="padding-top: 20px; padding-bottom: 45px">
                                <h5 style="font-weight: bold;"> {{job.companyName}}: </h5>
                                    <!-- <br> -->
                                    <small>  {{job.startedOn | date:'mediumDate'}} </small>
                                    <strong> - </strong>
                                    <small *ngIf="job.till === 'Till Date' ; else doThis "> {{job.till }} </small>
                                    <ng-template #doThis> {{job.till | date: 'mediumDate'}} </ng-template>
                                    <br>
                                    <small> <strong> {{job.desgnation }} </strong>  </small>
                                    <br>
                                    <small> <strong>Duties:</strong>  {{job.currentResponsibilites}}  </small>
                                    <br>
                                    <small [hidden]="!job.projectLinks"> <strong>Links:</strong> {{job.projectLinks}} </small>
                                    <br>
                                    <small [hidden]="!job.otherWorkLinks"> {{job.otherWorkLinks}} </small>
                                    <br>
                                    <small *ngIf="job.otherUSB"> <strong>USBS</strong> {{job.otherUSB}} </small>
                                    <br>
                               
                                    <td style="float:right"> <button mat-icon-button style="color: #023c66" (click)="editJobs(job._id)" > <mat-icon>edit</mat-icon> </button>  
                                      <span> 
                                          <button mat-icon-button style="color: darkred" (click)="deleteJob(job._id)" > <mat-icon> delete </mat-icon> </button> 
                                      </span>  </td>
                               </div>
                             </div>
                            <a type="button"  (click)="addJobs()" style="color:darkblue; font-size: 14px; flex-flow: row; margin-top: 10px">  +add a job</a>  
                         </div>
                    </div>


        <!-- </div> -->


       
       <!-- RATING -->
       <br>
       <br>
       <!-- <div class="col"  >
        <span style="color:grey"> Overall rating</span>
        <ngb-rating [(rate)]="engineer.rating" max="5"></ngb-rating>
      </div> -->
            

            <div class="form-row from-group mb-4">
              <mat-form-field class="email-form col-12">

                  <input type="number" class="email-full-width"
                          name="budget" 
                          [ngModel]="engineer?.budget" 
                          (ngModelChange)="engineer.budget = $event" 
                          #budget="ngModel"	  
                          matInput
                          placeholder="Budget"
                          required>

                          <mat-error *ngIf="budget.touched && budget.errors?.required" 
                                      class="help-block font-weight-bold" 
                                      style=" font-size: 12px; color: maroon">
                                  
                                     budget cannot be empty
                                    
                          </mat-error>

                    </mat-form-field>
</div>
                                <!-- company-email-ends -->
            <div class="form-row from-group mb-4">
                                <mat-form-field class="email-form col-12">
                                  <!-- Personal E-mail -->
                                  <input type="email" 
                                  class="email-full-width"
                                  id="defaultRegisterFormEmail"
                                  name="email" 
                                  [ngModel]="engineer?.email" 
                                  (ngModelChange)="engineer.email = $event" 
                                  #pEmail="ngModel"	  
                                  matInput
                                  placeholder=" E-mail"
                                  required  
                                  pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
                                  <mat-error  *ngIf="pEmail.touched && pEmail.errors?.required" 
                                              class="help-block font-weight-bold" 
                                              style=" font-size: 12px; color: maroon">
                                    Email cannot be empty
                                  </mat-error> 
  
                                  <mat-error *ngIf="pEmail.touched && pEmail.errors?.pattern" class="help-block font-weight-bold" style=" font-size: 12px; color: maroon">
                                    Please enter a valid email Id 
                                    <!-- (only lowercase allowed) -->
                                  </mat-error>
                                  <!-- {{pEmail.errors?.Equal | json}} -->
                                  <!-- {{pEmail.errors |json}} -->
                          </mat-form-field>
              </div>

         

                <div class="form-row from-group">
                          <mat-form-field class="email-form col-12" style="margin-top: 15px">
  
                            <!-- Phone number -->
                            <input type="text" 
                            id="defaultRegisterPhonePassword" 
                            class="email-full-width" 
                            matInput
                            placeholder="Phone number" 
                            aria-describedby="defaultRegisterFormPhoneHelpBlock"
                            [ngModel]="engineer?.phoneNumber"
                            (ngModelChange)="engineer.phoneNumber = $event"
                            name="ph"
                            #ph="ngModel"
                            required
                            pattern="^\d{3}-\d{4}-\d{4}$">
                            <mat-hint style="color:darkolivegreen" class="font-weight-bold text-muted">
                              Phone Number (format: xxx-xxxx-xxxx)
                              <br>
                            </mat-hint>

                            <mat-error *ngIf="ph.errors && ph.errors.pattern" class="help-block font-weight-bold" style=" font-size: 12px; color: maroon">
                              Please enter a valid phone number
                            </mat-error>

                          </mat-form-field>

                </div>
                          <!-- Sign up button -->
                          <button mat-raised-button  
                          block="true" 
                          class="my-4 btn btn-danger btn-block" 
                          type="submit" 
                          style="margin-left:0% ; width: 100%">                   
                          {{button}} </button>


                        </form>

                      </mdb-card-body>

                    </mdb-card>

                  </section>

